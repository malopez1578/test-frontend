import{R as e,g as t,a,c as s,u as c,b as l,r as n,d as r,e as o,f as i,h as m,P as d}from"./vendor.547866b9.js";var g="_main_18yic_1",_="_c-figure_j91wt_1",u="_c-image_j91wt_7",p="_c-user_j91wt_14",E="_c-user_text_j91wt_22";const x=({image:t,text:a})=>e.createElement("div",{className:p},e.createElement("p",{className:E},a),e.createElement("figure",{className:_},e.createElement("img",{className:u,src:t,alt:"imagen de perfil"}))),v="443487308616-8puo8krnuakc6g65roott9q8sat6s9ql.apps.googleusercontent.com",f=({type:a="login"})=>{const s=e=>{console.log("ðŸš€ ~ file: index.js ~ line 7 ~ onSucess ~ res",e),(e=>{let t=1e3*(e.tokenObj.expires_in||3300);const a=async()=>{const s=await e.reloadAuthResponse();t=1e3*(s.expires_in||3300),console.log("newAuthRes:",s),localStorage.setItem("authToken",s.id_token),setTimeout(a,t)};setTimeout(a,t)})(e)};return e.createElement("div",null,"login"===a?e.createElement(t.exports.GoogleLogin,{clientId:v,buttonText:"Login",onSuccess:s,onFailure:e=>{console.log("ðŸš€ ~ file: index.js ~ line 9 ~ onFailure ~ res",e)},cookiePolicy:"single_host_origin",isSignedIn:!0}):e.createElement(t.exports.GoogleLogout,{clientId:v,buttonText:"Logout",onSuccess:s}))};var N="_c-nav_3u6ye_1";const w=()=>e.createElement("nav",{className:N},e.createElement(x,{image:"https://via.placeholder.com/150",text:"xxxx xxxxx"}),e.createElement(f,null));var h="_c-header_t2ua9_1",j="_c-logo_t2ua9_9";const y=()=>e.createElement("header",{className:h},e.createElement("div",{className:j},e.createElement("h6",null,"Blog Frontend")),e.createElement(w,null));a.interceptors.request.use((e=>(e.headers["app-id"]="61148597089c64bddb565e8e",e)));const k=s("posts/get",(async()=>{var e;return(await(e="post",a.get(`https://dummyapi.io/data/v1/${e}`))).data.data}));var P={"c-card":"_c-card_13wet_1","c-card_image":"_c-card_image_13wet_10","c-card_tags":"_c-card_tags_13wet_22","c-card_text":"_c-card_text_13wet_40"};const b=({image:t,tags:a,text:s,owner:c,likes:l})=>{const n=`${c.firstName} ${c.lastName}`;return e.createElement("div",{className:P["c-card"]},e.createElement("div",{className:P["c-card_image"]},e.createElement("img",{src:t,alt:"Imagen referente al post."})),e.createElement("div",{className:P["c-card_info"]},e.createElement("div",{className:P["c-card_user"]},e.createElement(x,{image:c.picture,text:n})),e.createElement("div",{className:P["c-card_text"]},e.createElement("p",null,s))),e.createElement("div",{className:P["c-card_tags"]},a&&a.map(((t,a)=>e.createElement("span",{key:a},t)))))};var S="_c-main_1s7j4_1";const I=()=>{const{listPosts:t}=c((e=>e.getPostsReducer));return console.log("ðŸš€ ~ file: Home.jsx ~ line 5 ~ Home ~ listPosts",t),e.createElement("main",{className:S},t&&t.map((t=>e.createElement(b,{key:t.id,image:t.image,tags:t.tags,text:t.text,owner:t.owner,likes:t.likes}))))};function R(){const t=l();return n.exports.useEffect((()=>{t(k())}),[]),e.createElement("div",{className:g},e.createElement(y,null),e.createElement(I,null))}const T=i({reducer:o({getPostsReducer:r({name:"getPosts",initialState:{listPosts:[]},extraReducers:{[k.fulfilled]:(e,{payload:t})=>{e.listPosts.push(...t)},[k.rejected]:(e,{payload:t})=>{console.log("ðŸš€ ~ file: getPosts.js ~ line 9 ~ rejected",t)},[k.pending]:(e,{payload:t})=>{console.log("ðŸš€ ~ file: getPosts.js ~ line 9 ~ pending",t)}}}).reducer}),middleware:e=>e({serializableCheck:!1})});m.render(e.createElement(d,{store:T},e.createElement(e.StrictMode,null,e.createElement(R,null))),document.getElementById("root"));
