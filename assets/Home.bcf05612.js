import{R as e,e as t,u as a,r as l,l as n}from"./vendor.a00c3701.js";import{b as r,c,U as s,g as m,a as i,m as o,d,s as u,e as E,f as g}from"./index.efc3b67d.js";const p=({click:t,label:a,type:l})=>e.createElement("button",{className:r["c-btn"],onClick:t},a),v=({idModal:t,click:a,label:l})=>e.createElement(p,{click:()=>{a&&a();const e=document.querySelector(`#${t}`);e&&e.classList.toggle("is-active")},label:l}),f=({image:a,tags:l,text:n,owner:r,likes:o,id:d})=>{const u=`${r.firstName} ${r.lastName}`,E=t();return e.createElement("div",{className:c["c-card"]},e.createElement("div",{className:c["c-card_image"]},e.createElement("img",{src:a,alt:"Imagen referente al post."})),e.createElement("div",{className:c["c-card_info"]},e.createElement("div",{className:c["c-card_user"]},e.createElement(s,{image:r.picture,text:u})),e.createElement("div",{className:c["c-card_text"]},e.createElement("p",null,n)),e.createElement("div",{className:c["c-card_content"]},e.createElement(v,{idModal:"modal_content",label:"Ver comentarios",click:()=>{E(m(d))}}),e.createElement(v,{idModal:"modal_profile",label:"Ver perfil",click:()=>{return e=r.id,void E(i(e));var e}}),e.createElement("div",{className:c["c-card_like"]},e.createElement("img",{src:"./assets/images/like.svg",alt:"logo de like"}),e.createElement("span",null,o)))),e.createElement("div",{className:c["c-card_tags"]},l&&l.map(((t,a)=>e.createElement("span",{key:a},t)))))},N=({idModal:t,type:a,dataModal:l,children:n})=>{const r=()=>{const e=document.querySelector(`#${t}`);e&&e.classList.remove("is-active")};return e.createElement("div",{className:o["c-overlay"],id:t,onClick:r},e.createElement("div",{className:o["c-modal"]},e.createElement("div",{className:o["c-closeModal"]},e.createElement(p,{label:"x",click:r})),e.createElement("div",null,n)))},x=({handle:n})=>{const{tags:r,loading:c}=a((e=>e.getTagsReducer)),s=t();return l.exports.useEffect((()=>{s(d())}),[]),e.createElement("div",{className:u["c-filter"]},e.createElement("p",null,"Filtrar por tags"),e.createElement("input",{className:u["c-input"],type:"text",list:"browsers",onInput:n}),e.createElement("datalist",{id:"browsers"},"loading"!==c&&r.map(((t,a)=>e.createElement("option",{key:a,value:t})))))},_=()=>{const{commentsData:t,loading:n}=a((e=>e.getCommentsByIdReducer));return e.createElement(l.exports.Fragment,null,"pending"===n?e.createElement("span",null," loading..."):e.createElement(l.exports.Fragment,null,t&&t.length>0?e.createElement(l.exports.Fragment,null,e.createElement("h6",{className:E["c-title"]},"Comentarios"),t.map((t=>e.createElement("div",{key:t.id,className:E["c-comment"]},e.createElement("img",{className:E["c-comment_img"],src:t.owner.picture,alt:""}),e.createElement("div",{className:E["c-comment_text"]},e.createElement("div",null,e.createElement("small",null,t.owner.firstName,t.owner.lastName)),e.createElement("div",null,e.createElement("p",null,t.message))))))):e.createElement("span",null,"no hay commentarios")))},y=e=>{const t=new Intl.DateTimeFormat("es-CO",{year:"numeric",month:"long",day:"2-digit"});return new Date(e).toLocaleDateString([],t)},k=()=>{const{characterProfile:t,loading:l}=a((e=>e.getUserByIdReducer));return e.createElement(n.exports.Fragment,null,"pending"===l?e.createElement("span",null," loading..."):e.createElement(n.exports.Fragment,null,t&&Object.keys(t).length>0?e.createElement(n.exports.Fragment,null,e.createElement("h6",{className:g["c-title"]},"Perfil"),e.createElement("div",{className:g["c-cardProfile"]},e.createElement("div",{className:g["c-cardprofile_image"]},e.createElement("img",{src:t.picture,alt:"imagen perfil dedl usuario"})),e.createElement("div",{className:g["c-cardProfile_personal"]},e.createElement("p",null,e.createElement("strong",null,"Nombre: "),`${t.title} ${t.firstName} ${t.lastName}`),e.createElement("p",null,e.createElement("strong",null,"Fecha de Registro: "),y(t.registerDate)),e.createElement("p",null,e.createElement("strong",null,"Fecha de nacimiento: "),y(t.dateOfBirth)),e.createElement("p",null,e.createElement("strong",null,"Genero: "),t.gender)),e.createElement("div",{className:g["c-cardProfile_contact"]},e.createElement("p",null,e.createElement("strong",null,"Telefono: "),t.phone),e.createElement("p",null,e.createElement("strong",null,"Correo: "),t.email)),e.createElement("div",{className:g["c-gridProfile_location"]},e.createElement("h6",{className:g["c-title"]},"Direccion"),e.createElement("div",{className:g["c-cardprofile_address"]},e.createElement("p",null,e.createElement("strong",null,"Ciudad: "),t.location.city),e.createElement("p",null,e.createElement("strong",null,"Pais: "),t.location.country),e.createElement("p",null,e.createElement("strong",null,"Estado: "),t.location.state),e.createElement("p",null,e.createElement("strong",null,"Ciudad: "),t.location.city),e.createElement("p",null,e.createElement("strong",null,"Calle: "),t.location.street))))):e.createElement("span",null,"no hay perfil")))};var h="_c-main_1s7j4_1";const F=()=>{const{listPosts:t}=a((e=>e.getPostsReducer)),{dataFilter:n,setdataRequest:r,setvalueFilter:c}=(({data:e,value:t})=>{const[a,n]=l.exports.useState(e),[r,c]=l.exports.useState(t),[s,m]=l.exports.useState();return l.exports.useEffect((()=>{if(r&&""!==r&&a){const e=a.filter((e=>e.tags.includes(r.toLowerCase())));m(e)}else m(a)}),[e,r,n,a]),{setvalueFilter:c,dataFilter:s,setdataRequest:n}})(t);l.exports.useEffect((()=>{r(t)}),[t]);return e.createElement(l.exports.Fragment,null,e.createElement("main",{className:h},e.createElement(x,{handle:({target:e})=>{const t=e.value;c(t)}}),n&&n.map((t=>e.createElement(f,{key:t.id,image:t.image,tags:t.tags,text:t.text,owner:t.owner,likes:t.likes,id:t.id})))),e.createElement(N,{idModal:"modal_content"},e.createElement(_,null)),e.createElement(N,{idModal:"modal_profile"},e.createElement(k,null)))};export{F as default};
